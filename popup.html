<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>OpenClaw Browser v2.0</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      width: 320px;
      padding: 16px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: #eee;
    }
    
    .header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid #333;
    }
    
    .logo {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 16px;
    }
    
    .header-info {
      flex: 1;
    }
    
    .title {
      font-weight: 600;
      font-size: 15px;
    }
    
    .version {
      font-size: 10px;
      color: #888;
      margin-top: 2px;
    }
    
    .status {
      font-size: 11px;
      color: #888;
      margin-top: 2px;
    }
    
    .status.connected {
      color: #22c55e;
    }
    
    .status.disconnected {
      color: #ef4444;
    }
    
    .tabs {
      display: flex;
      gap: 4px;
      margin-bottom: 12px;
    }
    
    .tab {
      flex: 1;
      padding: 8px;
      background: #252542;
      border: none;
      border-radius: 6px;
      color: #888;
      font-size: 11px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .tab.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    
    .tab:hover:not(.active) {
      background: #333;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .section {
      background: #252542;
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 10px;
    }
    
    .section-title {
      font-size: 10px;
      text-transform: uppercase;
      color: #888;
      margin-bottom: 10px;
      letter-spacing: 0.5px;
    }
    
    .input-row {
      display: flex;
      gap: 6px;
      margin-bottom: 8px;
    }
    
    input {
      flex: 1;
      background: #1a1a2e;
      border: 1px solid #444;
      border-radius: 6px;
      padding: 10px;
      color: #eee;
      font-size: 12px;
    }
    
    input:focus {
      outline: none;
      border-color: #667eea;
    }
    
    button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: none;
      border-radius: 6px;
      padding: 10px 14px;
      color: white;
      font-size: 12px;
      cursor: pointer;
      transition: opacity 0.2s;
    }
    
    button:hover {
      opacity: 0.9;
    }
    
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .grid-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 6px;
    }
    
    .quick-btn {
      padding: 10px;
      font-size: 11px;
    }
    
    .memory-btn {
      background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
    }
    
    .extract-btn {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    }
    
    .semantic-btn {
      background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    }
    
    .result {
      margin-top: 12px;
      padding: 10px;
      background: #1a1a2e;
      border-radius: 6px;
      font-size: 11px;
      max-height: 150px;
      overflow-y: auto;
      word-break: break-all;
      display: none;
    }
    
    .result.show {
      display: block;
    }
    
    .result.error {
      color: #ef4444;
    }
    
    .result.success {
      color: #22c55e;
    }
    
    .settings-btn {
      width: 100%;
      margin-top: 8px;
      background: #333;
    }
    
    .badge {
      display: inline-block;
      padding: 2px 6px;
      background: #333;
      border-radius: 4px;
      font-size: 9px;
      margin-left: 4px;
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="logo">OC</div>
    <div class="header-info">
      <div class="title">OpenClaw Browser <span class="badge">v2.0</span></div>
      <div class="status" id="status">Connecting...</div>
    </div>
  </div>
  
  <div class="tabs">
    <button class="tab active" data-tab="navigate">Navigate</button>
    <button class="tab" data-tab="semantic">Semantic</button>
    <button class="tab" data-tab="extract">Extract</button>
    <button class="tab" data-tab="memory">Memory</button>
  </div>
  
  <!-- Navigate Tab -->
  <div class="tab-content active" id="tab-navigate">
    <div class="section">
      <div class="section-title">Go To</div>
      <div class="input-row">
        <input type="text" id="navUrl" placeholder="URL or search">
        <button id="navBtn">Go</button>
      </div>
    </div>
    
    <div class="section">
      <div class="section-title">Interaction</div>
      <div class="input-row">
        <input type="text" id="clickSelector" placeholder="CSS selector">
        <button id="clickBtn">Click</button>
      </div>
      <div class="input-row">
        <input type="text" id="typeSelector" placeholder="CSS selector">
      </div>
      <div class="input-row">
        <input type="text" id="typeText" placeholder="Text to type">
        <button id="typeBtn">Type</button>
      </div>
    </div>
    
    <div class="section">
      <div class="section-title">Quick Actions</div>
      <div class="grid-buttons">
        <button class="quick-btn" id="screenshotBtn">üì∑ Screenshot</button>
        <button class="quick-btn" id="getUrlBtn">üîó URL</button>
        <button class="quick-btn" id="getTitleBtn">üìÑ Title</button>
        <button class="quick-btn" id="scrollBtn">‚¨áÔ∏è Scroll</button>
      </div>
      <div style="margin-top: 8px;">
        <button class="quick-btn" id="openTabBtn" style="width: 100%;">‚ûï Open New Tab</button>
      </div>
    </div>
  </div>
  
  <!-- Semantic Tab (Comet-style) -->
  <div class="tab-content" id="tab-semantic">
    <div class="section">
      <div class="section-title">Semantic Click <span class="badge">NEW</span></div>
      <div class="input-row">
        <input type="text" id="semanticClickDesc" placeholder="e.g., 'the login button'">
        <button class="semantic-btn" id="semanticClickBtn">Click</button>
      </div>
      <p style="font-size: 10px; color: #888; margin-top: 4px;">
        Uses semantic understanding - adapts to layout changes
      </p>
    </div>
    
    <div class="section">
      <div class="section-title">Semantic Type <span class="badge">NEW</span></div>
      <div class="input-row">
        <input type="text" id="semanticTypeDesc" placeholder="e.g., 'email field'">
      </div>
      <div class="input-row">
        <input type="text" id="semanticTypeText" placeholder="Value to type">
        <button class="semantic-btn" id="semanticTypeBtn">Type</button>
      </div>
    </div>
    
    <div class="section">
      <div class="section-title">Vision Screenshot <span class="badge">NEW</span></div>
      <button class="quick-btn" style="width: 100%;" id="visionScreenshotBtn">
        üß† Vision Analysis
      </button>
      <p style="font-size: 10px; color: #888; margin-top: 4px;">
        Screenshot + page context for vision model
      </p>
    </div>
  </div>
  
  <!-- Extract Tab (Manus-style) -->
  <div class="tab-content" id="tab-extract">
    <div class="section">
      <div class="section-title">Full Page Extract</div>
      <button class="extract-btn" style="width: 100%;" id="extractPageBtn">
        üìÑ Extract Page + Semantic
      </button>
      <p style="font-size: 10px; color: #888; margin-top: 4px;">
        Markdown + semantic structure + interactive elements
      </p>
    </div>
    
    <div class="section">
      <div class="section-title">Readability</div>
      <button class="extract-btn" style="width: 100%;" id="extractReadableBtn">
        üìñ Extract Readable Text
      </button>
    </div>
    
    <div class="section">
      <div class="section-title">Semantic Structure</div>
      <button class="extract-btn" style="width: 100%;" id="extractSemanticBtn">
        üèóÔ∏è Extract Forms & Actions
      </button>
    </div>
    
    <div class="section">
      <div class="section-title">Markdown</div>
      <button class="extract-btn" style="width: 100%;" id="extractMarkdownBtn">
        üìù Get as Markdown
      </button>
    </div>
  </div>
  
  <!-- Memory Tab -->
  <div class="tab-content" id="tab-memory">
    <div class="section">
      <div class="section-title">Remember Page <span class="badge">NEW</span></div>
      <div class="input-row">
        <input type="text" id="memoryNotes" placeholder="Notes (optional)">
      </div>
      <div class="input-row">
        <input type="text" id="memoryTags" placeholder="Tags (comma-separated)">
      </div>
      <button class="memory-btn" style="width: 100%;" id="rememberPageBtn">
        üíæ Remember This Page
      </button>
    </div>
    
    <div class="section">
      <div class="section-title">Search Memory</div>
      <div class="input-row">
        <input type="text" id="memorySearchQuery" placeholder="Search query">
        <button class="memory-btn" id="memorySearchBtn">üîç</button>
      </div>
    </div>
    
    <div class="section">
      <div class="section-title">Recent Memories</div>
      <button class="memory-btn" style="width: 100%;" id="recentMemoriesBtn">
        üìö Show Recent
      </button>
    </div>
  </div>
  
  <button class="settings-btn" id="settingsBtn">‚öôÔ∏è Settings</button>
  
  <div class="result" id="result"></div>
  
  <script src="popup.js"></script>
</body>
</html>
